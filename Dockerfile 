# Use a slim Python base image
FROM python:3.9-slim-buster

# Set the working directory inside the container
WORKDIR /app

# --- Install System Dependencies (only build-essential for pip compilation if needed) ---
# We no longer need ffmpeg here as moviepy is removed.
RUN apt-get update && \
    apt-get install -y --no-install-recommends \
    build-essential \
    && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# --- Install Python Dependencies ---
COPY requirements.txt .
RUN pip install --no-cache-dir setuptools wheel && \
    pip install --no-cache-dir -r requirements.txt

# --- Copy Application Code ---
COPY . .

# --- Run the Streamlit Application ---
CMD ["streamlit", "run", "app.py"]
